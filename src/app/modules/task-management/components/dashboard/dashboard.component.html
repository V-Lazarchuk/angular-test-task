<header class="header">Tasks management</header>
<section class="content"
         cdkDropListGroup>
    <div class="category"
         *ngFor="let category of taskItems | keyvalue : keyValueSort">
        <h4 class="category__title">
            {{getCategoryName(category.key)}}
        </h4>
        <div cdkDropList
             [cdkDropListData]="taskItems[category.key]"
             (cdkDropListDropped)="drop($event)"
             class="tasks">
            <app-task *ngFor="let task of category.value"
                      cdkDrag
                      [task]="task">
            </app-task>
            <button class="tasks__create">
                <i class="fas fa-plus"></i>
            </button>
        </div>
    </div>
    <div class="category"
         [ngClass]="{'transparent': !showCreateCategoryForm}"
    >
        <app-create-category-form *ngIf="showCreateCategoryForm; else plusButton"
                                  (cancel)="showCreateCategoryForm = false"
                                  (create)="addNewCategory($event)"
        ></app-create-category-form>

        <ng-template #plusButton>
            <button class="addButton"
            (click)="showCreateCategoryForm = true">
                Add category
            </button>
        </ng-template>
    </div>
</section>
